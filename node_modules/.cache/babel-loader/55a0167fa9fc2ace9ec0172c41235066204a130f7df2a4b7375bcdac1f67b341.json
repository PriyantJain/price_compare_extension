{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _builder = _interopRequireDefault(require(\"./builder.js\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nvar htmlparser = require('htmlparser');\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n  try {\n    htmlparser = Tautologistics.NodeHtmlParser;\n  } catch (e) {}\n} else {\n  htmlparser = Tautologistics.NodeHtmlParser;\n}\nvar SoupElement = /*#__PURE__*/function () {\n  function SoupElement() {\n    var parent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var previousElement = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var nextElement = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    _classCallCheck(this, SoupElement);\n    this.parent = parent;\n    this.previousElement = previousElement;\n    this.nextElement = nextElement;\n  }\n  _createClass(SoupElement, [{\n    key: \"nextSibling\",\n    get: function get() {\n      if (!this.parent) return undefined;\n      var index = this.parent.contents.indexOf(this);\n      if (index == this.parent.contents.length - 1) return undefined;\n      return this.parent.contents[index + 1];\n    }\n  }, {\n    key: \"previousSibling\",\n    get: function get() {\n      if (!this.parent) return undefined;\n      var index = this.parent.contents.indexOf(this);\n      if (index == 0) return undefined;\n      return this.parent.contents[index - 1];\n    }\n  }, {\n    key: \"nextSiblings\",\n    get: function get() {\n      if (!this.parent) return undefined;\n      var index = this.parent.contents.indexOf(this);\n      if (index == this.parent.contents.length - 1) return undefined;\n      return this.parent.contents.slice(index + 1);\n    }\n  }, {\n    key: \"previousSiblings\",\n    get: function get() {\n      if (!this.parent) return undefined;\n      var index = this.parent.contents.indexOf(this);\n      if (index == 0) return undefined;\n      return this.parent.contents.slice(0, index);\n    } // remove item from dom tree\n  }, {\n    key: \"extract\",\n    value: function extract() {\n      var extractFirst = this;\n      var extractLast = this;\n      var descendants = this.descendants;\n      if (descendants && descendants.length) {\n        extractLast = descendants[descendants.length - 1];\n      } // these two maybe null\n\n      var before = this.previousElement;\n      var after = extractLast.nextElement; // modify extract subtree\n\n      extractFirst.previousElement = null;\n      extractLast.nextElement = null;\n      if (before) {\n        before.nextElement = after;\n      }\n      if (after) {\n        after.previousElement = before;\n      } //remove node from contents array\n\n      if (this.parent) {\n        var index = this.parent.contents.indexOf(this);\n        if (index >= 0) {\n          this.parent.contents.splice(index, 1);\n        }\n      }\n      this.parent = null;\n    }\n  }, {\n    key: \"insert\",\n    value: function insert(index, newElement) {\n      var _this = this;\n      if (newElement == null) {\n        throw \"Cannot insert null element!\";\n      }\n      if (newElement === this) {\n        throw \"Cannot add one itself!\";\n      }\n      if (!(this instanceof SoupTag)) {\n        throw \"insert is not support in \" + this.constructor.name;\n      }\n      if (index < 0) {\n        throw \"index cannot be negative!\";\n      }\n      if (newElement instanceof JSSoup) {\n        newElement.contents.forEach(function (element) {\n          _this.insert(index, element);\n          ++index;\n        });\n        return;\n      }\n      index = Math.min(index, this.contents.length);\n      if (typeof newElement == 'string') {\n        newElement = new SoupString(newElement);\n      }\n      if (newElement.parent) {\n        if (newElement.parent === this) {\n          var curIndex = this.contents.indexOf(newElement);\n          if (index == curIndex) return;\n          if (index > curIndex) {\n            --index;\n          }\n        }\n        newElement.extract();\n      }\n      var count = this.contents.length;\n      var descendantsOfNewElement = newElement.descendants;\n      var lastElementOfNewElement = descendantsOfNewElement && descendantsOfNewElement.length > 0 ? descendantsOfNewElement[descendantsOfNewElement.length - 1] : newElement; // handle previous element of newElement\n\n      if (index == 0) {\n        newElement.previousElement = this;\n      } else {\n        var previousChild = this.contents[index - 1];\n        var previousDescendants = previousChild.descendants;\n        newElement.previousElement = previousDescendants && previousDescendants.length > 0 ? previousDescendants[previousDescendants.length - 1] : previousChild;\n      }\n      if (newElement.previousElement) {\n        newElement.previousElement.nextElement = newElement;\n      } // handle next element of newElement\n\n      if (index < count) {\n        lastElementOfNewElement.nextElement = this.contents[index];\n      } else {\n        var parent = this;\n        var parentNextSibling = null;\n        while (!parentNextSibling && parent) {\n          parentNextSibling = parent.nextSibling;\n          parent = parent.parent;\n        }\n        if (parentNextSibling) {\n          lastElementOfNewElement.nextElement = parentNextSibling;\n        } else {\n          lastElementOfNewElement.nextElement = null;\n        }\n      }\n      if (lastElementOfNewElement.nextElement) {\n        lastElementOfNewElement.nextElement.previousElement = lastElementOfNewElement;\n      }\n      newElement.parent = this;\n      this.contents.splice(index, 0, newElement);\n    }\n  }, {\n    key: \"replaceWith\",\n    value: function replaceWith(newElement) {\n      if (this.parent == null) {\n        throw \"Cannot replace element without parent!\";\n      }\n      if (newElement === this) {\n        return;\n      }\n      if (newElement === this.parent) {\n        throw \"Cannot replace element with its parent!\";\n      }\n      var parent = this.parent;\n      var index = this.parent.contents.indexOf(this);\n      this.extract();\n      try {\n        parent.insert(index, newElement);\n      } catch (err) {\n        throw 'Cannot replace this element!';\n      }\n      return this;\n    }\n  }]);\n  return SoupElement;\n}();\nvar SoupComment = /*#__PURE__*/function (_SoupElement) {\n  _inherits(SoupComment, _SoupElement);\n  var _super = _createSuper(SoupComment);\n  function SoupComment(text) {\n    var _this2;\n    var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var previousElement = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var nextElement = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    _classCallCheck(this, SoupComment);\n    _this2 = _super.call(this, parent, previousElement, nextElement);\n    _this2._text = text;\n    return _this2;\n  }\n  return SoupComment;\n}(SoupElement);\nvar SoupString = /*#__PURE__*/function (_SoupElement2) {\n  _inherits(SoupString, _SoupElement2);\n  var _super2 = _createSuper(SoupString);\n  function SoupString(text) {\n    var _this3;\n    var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var previousElement = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var nextElement = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    _classCallCheck(this, SoupString);\n    _this3 = _super2.call(this, parent, previousElement, nextElement);\n    _this3._text = text;\n    return _this3;\n  }\n  return SoupString;\n}(SoupElement);\nSoupString.prototype.toString = function () {\n  return this._text;\n};\nvar SoupDoctypeString = /*#__PURE__*/function (_SoupString) {\n  _inherits(SoupDoctypeString, _SoupString);\n  var _super3 = _createSuper(SoupDoctypeString);\n  function SoupDoctypeString(text) {\n    var _this4;\n    var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var previousElement = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var nextElement = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    _classCallCheck(this, SoupDoctypeString);\n    _this4 = _super3.call(this, text, parent, previousElement, nextElement);\n    _this4._text = text;\n    return _this4;\n  }\n  return SoupDoctypeString;\n}(SoupString);\nSoupDoctypeString.prototype.toString = function () {\n  return \"<\" + this._text + \">\";\n};\nvar SoupTag = /*#__PURE__*/function (_SoupElement3) {\n  _inherits(SoupTag, _SoupElement3);\n  var _super4 = _createSuper(SoupTag);\n  function SoupTag(name, builder) {\n    var _this5;\n    var attrs = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var parent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    var previousElement = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n    var nextElement = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n    _classCallCheck(this, SoupTag);\n    _this5 = _super4.call(this, parent, previousElement, nextElement);\n    _this5.name = name;\n    _this5.contents = [];\n    _this5.attrs = attrs || {};\n    _this5.hidden = false;\n    _this5.builder = builder;\n    return _this5;\n  }\n  _createClass(SoupTag, [{\n    key: \"_append\",\n    value: function _append(child) {\n      if (child) this.contents.push(child);\n    }\n    /*\n     * Build a soup object tree\n     */\n  }, {\n    key: \"_build\",\n    value: function _build(children) {\n      if (!children || children.length < 1) return this;\n      var last = this;\n      for (var i = 0; i < children.length; ++i) {\n        var ele = this._transform(children[i]);\n        last.nextElement = ele;\n        ele.previousElement = last;\n        if (ele instanceof SoupTag) {\n          last = ele._build(children[i].children);\n        } else {\n          last = ele;\n        }\n        this._append(ele);\n      }\n      return last;\n    }\n    /*\n     * It's a soup object factory\n     * It consturcts a soup object from dom.\n     */\n  }, {\n    key: \"_transform\",\n    value: function _transform(dom) {\n      if (!dom) return null;\n      if (dom.type === 'text') {\n        return new SoupString(dom.data, this);\n      } else if (dom.type === 'comment') {\n        return new SoupComment(dom.data, this);\n      } else if (dom.type === 'directive') {\n        //<!**\n        if (dom.name === '!DOCTYPE') {\n          return new SoupDoctypeString(dom.data, this);\n        }\n      }\n      return new SoupTag(dom.name, this.builder, dom.attribs, this);\n    }\n  }, {\n    key: \"string\",\n    get: function get() {\n      var cur = this;\n      while (cur && cur.contents && cur.contents.length == 1) {\n        cur = cur.contents[0];\n      }\n      if (!cur || cur instanceof SoupTag) return undefined;\n      return cur;\n    }\n  }, {\n    key: \"find\",\n    value: function find() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      var attrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      var string = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      var r = this.findAll(name, attrs, string);\n      if (r.length > 0) return r[0];\n      return undefined;\n    }\n    /*\n     * like find_all in BeautifulSoup\n     */\n  }, {\n    key: \"findAll\",\n    value: function findAll() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      var attrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      var string = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      var results = [];\n      var strainer = new SoupStrainer(name, attrs, string);\n      var descendants = this.descendants;\n      for (var i = 0; i < descendants.length; ++i) {\n        if (descendants[i] instanceof SoupTag) {\n          var tag = strainer.match(descendants[i]);\n          if (tag) {\n            results.push(tag);\n          }\n        }\n      }\n      return results;\n    }\n  }, {\n    key: \"findPreviousSibling\",\n    value: function findPreviousSibling() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      var attrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      var string = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      var results = this.findPreviousSiblings(name, attrs, string);\n      if (results.length > 0) {\n        return results[0];\n      }\n      return undefined;\n    }\n  }, {\n    key: \"findPreviousSiblings\",\n    value: function findPreviousSiblings() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      var attrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      var string = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      var results = [];\n      var cur = this.previousSibling;\n      var strainer = new SoupStrainer(name, attrs, string);\n      while (cur) {\n        if (cur instanceof SoupTag) {\n          var tag = strainer.match(cur);\n          if (tag) {\n            results.push(tag);\n          }\n        }\n        cur = cur.previousSibling;\n      }\n      return results;\n    }\n  }, {\n    key: \"findNextSibling\",\n    value: function findNextSibling() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      var attrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      var string = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      var results = this.findNextSiblings(name, attrs, string);\n      if (results.length > 0) {\n        return results[0];\n      }\n      return undefined;\n    }\n  }, {\n    key: \"findNextSiblings\",\n    value: function findNextSiblings() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      var attrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      var string = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      var results = [];\n      var cur = this.nextSibling;\n      var strainer = new SoupStrainer(name, attrs, string);\n      while (cur) {\n        if (cur instanceof SoupTag) {\n          var tag = strainer.match(cur);\n          if (tag) {\n            results.push(tag);\n          }\n        }\n        cur = cur.nextSibling;\n      }\n      return results;\n    }\n  }, {\n    key: \"getText\",\n    value: function getText() {\n      var separator = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var text = [];\n      var descendants = this.descendants;\n      for (var i = 0; i < descendants.length; ++i) {\n        if (descendants[i] instanceof SoupString) {\n          text.push(descendants[i]._text);\n        }\n      }\n      return text.join(separator);\n    }\n  }, {\n    key: \"text\",\n    get: function get() {\n      return this.getText();\n    }\n  }, {\n    key: \"descendants\",\n    get: function get() {\n      var ret = [];\n      var cur = this.nextElement;\n      while (cur) {\n        var parent = cur.parent;\n        while (parent && parent != this) {\n          parent = parent.parent;\n        }\n        if (!parent) break;\n        ret.push(cur);\n        cur = cur.nextElement;\n      }\n      return ret;\n    }\n  }, {\n    key: \"_convertAttrsToString\",\n    value: function _convertAttrsToString() {\n      var text = '';\n      if (!this.attrs) return text;\n      for (var key in this.attrs) {\n        if (Array.isArray(this.attrs[key])) {\n          text += key + '=\"' + this.attrs[key].join(' ') + '\" ';\n        } else {\n          text += key + '=\"' + this.attrs[key] + '\" ';\n        }\n      }\n      text = text.trim();\n      return text;\n    }\n  }, {\n    key: \"_prettify\",\n    value: function _prettify(indent, breakline) {\n      var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var text = '';\n      if (this.hidden && level == 0) {\n        --level;\n      }\n      if (!this.hidden) {\n        var attrs = this._convertAttrsToString();\n        if (attrs) {\n          text += indent.repeat(level) + '<' + this.name + ' ' + attrs;\n        } else {\n          text += indent.repeat(level) + '<' + this.name;\n        }\n      } // is an element doesn't have any contents, it's a self closing element\n\n      if (!this.hidden) {\n        if (this._isEmptyElement() && this.builder.canBeEmptyElement(this.name)) {\n          text += ' />' + breakline;\n          return text;\n        } else {\n          text += '>' + breakline;\n        }\n      }\n      for (var i = 0; i < this.contents.length; ++i) {\n        if (this.contents[i] instanceof SoupString) {\n          var curText = this.contents[i].toString();\n          curText = curText.trim();\n          if (curText.length != 0) {\n            if (curText.substring(curText.length - 1) == \"\\n\") {\n              text += indent.repeat(level + 1) + curText;\n            } else {\n              text += indent.repeat(level + 1) + curText + breakline;\n            }\n          }\n        } else {\n          if (this.contents[i] instanceof SoupComment) {\n            text += indent.repeat(level + 1) + \"<!--\" + this.contents[i]._text + \"-->\" + breakline;\n          } else {\n            text += this.contents[i]._prettify(indent, breakline, level + 1);\n          }\n        }\n      }\n      if (!this.hidden) {\n        text += indent.repeat(level) + '</' + this.name + '>' + breakline;\n      }\n      return text;\n    }\n  }, {\n    key: \"prettify\",\n    value: function prettify() {\n      var indent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ' ';\n      var breakline = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '\\n';\n      return this._prettify(indent, breakline).trim();\n    }\n    /*\n     * Append item in contents\n     */\n  }, {\n    key: \"append\",\n    value: function append(item) {\n      var pre = this;\n      var next = this.nextElement;\n      var appendFirst = item;\n      var appendLast = item;\n      var itemDescendants = item.descendants;\n      if (itemDescendants && itemDescendants.length > 0) {\n        appendLast = itemDescendants[itemDescendants.length - 1];\n      }\n      var descendants = this.descendants;\n      if (descendants && descendants.length > 0) {\n        pre = descendants[descendants.length - 1];\n        next = pre.nextElement;\n      } //merge two SoupString\n\n      if (item instanceof SoupString && pre instanceof SoupString) {\n        pre._text += item._text;\n        return;\n      }\n      appendFirst.previousElement = pre;\n      appendLast.nextElement = next;\n      if (pre) pre.nextElement = appendFirst;\n      if (next) next.previousElement = appendLast;\n      this.contents.push(item);\n      item.parent = this;\n    }\n  }, {\n    key: \"_isEmptyElement\",\n    value: function _isEmptyElement() {\n      return this.contents.length == 0;\n    }\n  }]);\n  return SoupTag;\n}(SoupElement);\nSoupTag.prototype.toString = function () {\n  return this.prettify('', '');\n};\nvar ROOT_TAG_NAME = '[document]';\nvar JSSoup = /*#__PURE__*/function (_SoupTag) {\n  _inherits(JSSoup, _SoupTag);\n  var _super5 = _createSuper(JSSoup);\n  function JSSoup(text) {\n    var _this6;\n    var ignoreWhitespace = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    _classCallCheck(this, JSSoup);\n    _this6 = _super5.call(this, ROOT_TAG_NAME, new _builder[\"default\"](), null);\n    var handler = new htmlparser.DefaultHandler(function (error, dom) {\n      if (error) {\n        console.log(error);\n      } else {}\n    }, {\n      verbose: false,\n      ignoreWhitespace: ignoreWhitespace\n    });\n    var parser = new htmlparser.Parser(handler);\n    parser.parseComplete(text);\n    if (Array.isArray(handler.dom)) {\n      _this6._build(handler.dom);\n    } else {\n      _this6._build([handler.dom]);\n    }\n    _this6.hidden = true;\n    return _this6;\n  }\n  return JSSoup;\n}(SoupTag);\nexports[\"default\"] = JSSoup;\nvar SoupStrainer = /*#__PURE__*/function () {\n  function SoupStrainer(name, attrs, string) {\n    _classCallCheck(this, SoupStrainer);\n    if (typeof attrs == 'string') {\n      attrs = {\n        \"class\": [attrs]\n      };\n    } else if (Array.isArray(attrs)) {\n      attrs = {\n        \"class\": attrs\n      };\n    } else if (attrs && attrs[\"class\"] && typeof attrs[\"class\"] == 'string') {\n      attrs[\"class\"] = [attrs[\"class\"]];\n    }\n    if (attrs && attrs[\"class\"]) {\n      for (var i = 0; i < attrs[\"class\"].length; ++i) {\n        attrs[\"class\"][i] = attrs[\"class\"][i].trim();\n      }\n    }\n    this.name = name;\n    this.attrs = attrs;\n    this.string = string;\n  }\n  _createClass(SoupStrainer, [{\n    key: \"match\",\n    value: function match(tag) {\n      // match string\n      if (this.name == undefined && this.attrs == undefined) {\n        if (this.string) {\n          if (this._matchName(tag.string, this.string)) return tag.string;else return null;\n        }\n        return tag;\n      } // match tag name\n\n      var match = this._matchName(tag.name, this.name);\n      if (!match) return null; // match string\n\n      match = this._matchName(tag.string, this.string);\n      if (!match) return null; // match attributes\n\n      if (_typeof(this.attrs) == 'object') {\n        if (!this._isEmptyObject(this.attrs)) {\n          var props = Object.getOwnPropertyNames(this.attrs);\n          var found = false;\n          for (var i = 0; i < props.length; ++i) {\n            if (props[i] in tag.attrs && this._matchAttrs(props[i], tag.attrs[props[i]], this.attrs[props[i]])) {\n              found = true;\n              break;\n            }\n          }\n          if (!found) return null;\n        }\n      }\n      return tag;\n    }\n  }, {\n    key: \"_matchName\",\n    value: function _matchName(tagItem, name) {\n      if (name == undefined || name == null) return true; // if name is an array, then tag match any item in this array is a match.\n\n      if (Array.isArray(name)) {\n        for (var i = 0; i < name.length; ++i) {\n          var match = this._matchName(tagItem, name[i]);\n          if (match) return true;\n        }\n        return false;\n      }\n      return tagItem == name;\n    }\n  }, {\n    key: \"_matchAttrs\",\n    value: function _matchAttrs(name, candidateAttrs, attrs) {\n      if (typeof candidateAttrs == 'string') {\n        if (name == 'class') {\n          candidateAttrs = candidateAttrs.replace(/\\s\\s+/g, ' ').trim().split(' ');\n        } else {\n          candidateAttrs = [candidateAttrs];\n        }\n      }\n      if (typeof attrs == 'string') {\n        attrs = [attrs];\n      }\n      for (var i = 0; i < attrs.length; ++i) {\n        if (candidateAttrs.indexOf(attrs[i]) < 0) return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"_isEmptyObject\",\n    value: function _isEmptyObject(obj) {\n      return Object.keys(obj).length == 0;\n    }\n  }]);\n  return SoupStrainer;\n}();","map":{"version":3,"names":["Object","defineProperty","exports","value","_builder","_interopRequireDefault","require","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_inherits","subClass","superClass","TypeError","create","writable","configurable","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_classCallCheck","instance","Constructor","_defineProperties","target","props","i","length","descriptor","enumerable","key","_createClass","protoProps","staticProps","htmlparser","module","Tautologistics","NodeHtmlParser","SoupElement","parent","undefined","previousElement","nextElement","get","index","contents","indexOf","slice","extract","extractFirst","extractLast","descendants","before","after","splice","insert","newElement","_this","SoupTag","name","JSSoup","forEach","element","Math","min","SoupString","curIndex","count","descendantsOfNewElement","lastElementOfNewElement","previousChild","previousDescendants","parentNextSibling","nextSibling","replaceWith","err","SoupComment","_SoupElement","_super","text","_this2","_text","_SoupElement2","_super2","_this3","toString","SoupDoctypeString","_SoupString","_super3","_this4","_SoupElement3","_super4","builder","_this5","attrs","hidden","_append","child","push","_build","children","last","ele","_transform","dom","type","data","attribs","cur","find","string","r","findAll","results","strainer","SoupStrainer","tag","match","findPreviousSibling","findPreviousSiblings","previousSibling","findNextSibling","findNextSiblings","getText","separator","join","ret","_convertAttrsToString","Array","isArray","trim","_prettify","indent","breakline","level","repeat","_isEmptyElement","canBeEmptyElement","curText","substring","prettify","append","item","pre","next","appendFirst","appendLast","itemDescendants","ROOT_TAG_NAME","_SoupTag","_super5","_this6","ignoreWhitespace","handler","DefaultHandler","error","console","log","verbose","parser","Parser","parseComplete","_matchName","_isEmptyObject","getOwnPropertyNames","found","_matchAttrs","tagItem","candidateAttrs","replace","split","keys"],"sources":["C:/Users/05200/Documents/React/price-compare-extension/node_modules/jssoup/dist/lib/jssoup.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _builder = _interopRequireDefault(require(\"./builder.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar htmlparser = require('htmlparser');\n\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n  try {\n    htmlparser = Tautologistics.NodeHtmlParser;\n  } catch (e) {}\n} else {\n  htmlparser = Tautologistics.NodeHtmlParser;\n}\n\nvar SoupElement = /*#__PURE__*/function () {\n  function SoupElement() {\n    var parent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var previousElement = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var nextElement = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    _classCallCheck(this, SoupElement);\n\n    this.parent = parent;\n    this.previousElement = previousElement;\n    this.nextElement = nextElement;\n  }\n\n  _createClass(SoupElement, [{\n    key: \"nextSibling\",\n    get: function get() {\n      if (!this.parent) return undefined;\n      var index = this.parent.contents.indexOf(this);\n      if (index == this.parent.contents.length - 1) return undefined;\n      return this.parent.contents[index + 1];\n    }\n  }, {\n    key: \"previousSibling\",\n    get: function get() {\n      if (!this.parent) return undefined;\n      var index = this.parent.contents.indexOf(this);\n      if (index == 0) return undefined;\n      return this.parent.contents[index - 1];\n    }\n  }, {\n    key: \"nextSiblings\",\n    get: function get() {\n      if (!this.parent) return undefined;\n      var index = this.parent.contents.indexOf(this);\n      if (index == this.parent.contents.length - 1) return undefined;\n      return this.parent.contents.slice(index + 1);\n    }\n  }, {\n    key: \"previousSiblings\",\n    get: function get() {\n      if (!this.parent) return undefined;\n      var index = this.parent.contents.indexOf(this);\n      if (index == 0) return undefined;\n      return this.parent.contents.slice(0, index);\n    } // remove item from dom tree\n\n  }, {\n    key: \"extract\",\n    value: function extract() {\n      var extractFirst = this;\n      var extractLast = this;\n      var descendants = this.descendants;\n\n      if (descendants && descendants.length) {\n        extractLast = descendants[descendants.length - 1];\n      } // these two maybe null\n\n\n      var before = this.previousElement;\n      var after = extractLast.nextElement; // modify extract subtree\n\n      extractFirst.previousElement = null;\n      extractLast.nextElement = null;\n\n      if (before) {\n        before.nextElement = after;\n      }\n\n      if (after) {\n        after.previousElement = before;\n      } //remove node from contents array\n\n\n      if (this.parent) {\n        var index = this.parent.contents.indexOf(this);\n\n        if (index >= 0) {\n          this.parent.contents.splice(index, 1);\n        }\n      }\n\n      this.parent = null;\n    }\n  }, {\n    key: \"insert\",\n    value: function insert(index, newElement) {\n      var _this = this;\n\n      if (newElement == null) {\n        throw \"Cannot insert null element!\";\n      }\n\n      if (newElement === this) {\n        throw \"Cannot add one itself!\";\n      }\n\n      if (!(this instanceof SoupTag)) {\n        throw \"insert is not support in \" + this.constructor.name;\n      }\n\n      if (index < 0) {\n        throw \"index cannot be negative!\";\n      }\n\n      if (newElement instanceof JSSoup) {\n        newElement.contents.forEach(function (element) {\n          _this.insert(index, element);\n\n          ++index;\n        });\n        return;\n      }\n\n      index = Math.min(index, this.contents.length);\n\n      if (typeof newElement == 'string') {\n        newElement = new SoupString(newElement);\n      }\n\n      if (newElement.parent) {\n        if (newElement.parent === this) {\n          var curIndex = this.contents.indexOf(newElement);\n          if (index == curIndex) return;\n\n          if (index > curIndex) {\n            --index;\n          }\n        }\n\n        newElement.extract();\n      }\n\n      var count = this.contents.length;\n      var descendantsOfNewElement = newElement.descendants;\n      var lastElementOfNewElement = descendantsOfNewElement && descendantsOfNewElement.length > 0 ? descendantsOfNewElement[descendantsOfNewElement.length - 1] : newElement; // handle previous element of newElement\n\n      if (index == 0) {\n        newElement.previousElement = this;\n      } else {\n        var previousChild = this.contents[index - 1];\n        var previousDescendants = previousChild.descendants;\n        newElement.previousElement = previousDescendants && previousDescendants.length > 0 ? previousDescendants[previousDescendants.length - 1] : previousChild;\n      }\n\n      if (newElement.previousElement) {\n        newElement.previousElement.nextElement = newElement;\n      } // handle next element of newElement\n\n\n      if (index < count) {\n        lastElementOfNewElement.nextElement = this.contents[index];\n      } else {\n        var parent = this;\n        var parentNextSibling = null;\n\n        while (!parentNextSibling && parent) {\n          parentNextSibling = parent.nextSibling;\n          parent = parent.parent;\n        }\n\n        if (parentNextSibling) {\n          lastElementOfNewElement.nextElement = parentNextSibling;\n        } else {\n          lastElementOfNewElement.nextElement = null;\n        }\n      }\n\n      if (lastElementOfNewElement.nextElement) {\n        lastElementOfNewElement.nextElement.previousElement = lastElementOfNewElement;\n      }\n\n      newElement.parent = this;\n      this.contents.splice(index, 0, newElement);\n    }\n  }, {\n    key: \"replaceWith\",\n    value: function replaceWith(newElement) {\n      if (this.parent == null) {\n        throw \"Cannot replace element without parent!\";\n      }\n\n      if (newElement === this) {\n        return;\n      }\n\n      if (newElement === this.parent) {\n        throw \"Cannot replace element with its parent!\";\n      }\n\n      var parent = this.parent;\n      var index = this.parent.contents.indexOf(this);\n      this.extract();\n\n      try {\n        parent.insert(index, newElement);\n      } catch (err) {\n        throw 'Cannot replace this element!';\n      }\n\n      return this;\n    }\n  }]);\n\n  return SoupElement;\n}();\n\nvar SoupComment = /*#__PURE__*/function (_SoupElement) {\n  _inherits(SoupComment, _SoupElement);\n\n  var _super = _createSuper(SoupComment);\n\n  function SoupComment(text) {\n    var _this2;\n\n    var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var previousElement = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var nextElement = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n    _classCallCheck(this, SoupComment);\n\n    _this2 = _super.call(this, parent, previousElement, nextElement);\n    _this2._text = text;\n    return _this2;\n  }\n\n  return SoupComment;\n}(SoupElement);\n\nvar SoupString = /*#__PURE__*/function (_SoupElement2) {\n  _inherits(SoupString, _SoupElement2);\n\n  var _super2 = _createSuper(SoupString);\n\n  function SoupString(text) {\n    var _this3;\n\n    var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var previousElement = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var nextElement = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n    _classCallCheck(this, SoupString);\n\n    _this3 = _super2.call(this, parent, previousElement, nextElement);\n    _this3._text = text;\n    return _this3;\n  }\n\n  return SoupString;\n}(SoupElement);\n\nSoupString.prototype.toString = function () {\n  return this._text;\n};\n\nvar SoupDoctypeString = /*#__PURE__*/function (_SoupString) {\n  _inherits(SoupDoctypeString, _SoupString);\n\n  var _super3 = _createSuper(SoupDoctypeString);\n\n  function SoupDoctypeString(text) {\n    var _this4;\n\n    var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var previousElement = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var nextElement = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n    _classCallCheck(this, SoupDoctypeString);\n\n    _this4 = _super3.call(this, text, parent, previousElement, nextElement);\n    _this4._text = text;\n    return _this4;\n  }\n\n  return SoupDoctypeString;\n}(SoupString);\n\nSoupDoctypeString.prototype.toString = function () {\n  return \"<\" + this._text + \">\";\n};\n\nvar SoupTag = /*#__PURE__*/function (_SoupElement3) {\n  _inherits(SoupTag, _SoupElement3);\n\n  var _super4 = _createSuper(SoupTag);\n\n  function SoupTag(name, builder) {\n    var _this5;\n\n    var attrs = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var parent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    var previousElement = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n    var nextElement = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n\n    _classCallCheck(this, SoupTag);\n\n    _this5 = _super4.call(this, parent, previousElement, nextElement);\n    _this5.name = name;\n    _this5.contents = [];\n    _this5.attrs = attrs || {};\n    _this5.hidden = false;\n    _this5.builder = builder;\n    return _this5;\n  }\n\n  _createClass(SoupTag, [{\n    key: \"_append\",\n    value: function _append(child) {\n      if (child) this.contents.push(child);\n    }\n    /*\n     * Build a soup object tree\n     */\n\n  }, {\n    key: \"_build\",\n    value: function _build(children) {\n      if (!children || children.length < 1) return this;\n      var last = this;\n\n      for (var i = 0; i < children.length; ++i) {\n        var ele = this._transform(children[i]);\n\n        last.nextElement = ele;\n        ele.previousElement = last;\n\n        if (ele instanceof SoupTag) {\n          last = ele._build(children[i].children);\n        } else {\n          last = ele;\n        }\n\n        this._append(ele);\n      }\n\n      return last;\n    }\n    /*\n     * It's a soup object factory\n     * It consturcts a soup object from dom.\n     */\n\n  }, {\n    key: \"_transform\",\n    value: function _transform(dom) {\n      if (!dom) return null;\n\n      if (dom.type === 'text') {\n        return new SoupString(dom.data, this);\n      } else if (dom.type === 'comment') {\n        return new SoupComment(dom.data, this);\n      } else if (dom.type === 'directive') {\n        //<!**\n        if (dom.name === '!DOCTYPE') {\n          return new SoupDoctypeString(dom.data, this);\n        }\n      }\n\n      return new SoupTag(dom.name, this.builder, dom.attribs, this);\n    }\n  }, {\n    key: \"string\",\n    get: function get() {\n      var cur = this;\n\n      while (cur && cur.contents && cur.contents.length == 1) {\n        cur = cur.contents[0];\n      }\n\n      if (!cur || cur instanceof SoupTag) return undefined;\n      return cur;\n    }\n  }, {\n    key: \"find\",\n    value: function find() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      var attrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      var string = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      var r = this.findAll(name, attrs, string);\n      if (r.length > 0) return r[0];\n      return undefined;\n    }\n    /*\n     * like find_all in BeautifulSoup\n     */\n\n  }, {\n    key: \"findAll\",\n    value: function findAll() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      var attrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      var string = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      var results = [];\n      var strainer = new SoupStrainer(name, attrs, string);\n      var descendants = this.descendants;\n\n      for (var i = 0; i < descendants.length; ++i) {\n        if (descendants[i] instanceof SoupTag) {\n          var tag = strainer.match(descendants[i]);\n\n          if (tag) {\n            results.push(tag);\n          }\n        }\n      }\n\n      return results;\n    }\n  }, {\n    key: \"findPreviousSibling\",\n    value: function findPreviousSibling() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      var attrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      var string = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      var results = this.findPreviousSiblings(name, attrs, string);\n\n      if (results.length > 0) {\n        return results[0];\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"findPreviousSiblings\",\n    value: function findPreviousSiblings() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      var attrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      var string = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      var results = [];\n      var cur = this.previousSibling;\n      var strainer = new SoupStrainer(name, attrs, string);\n\n      while (cur) {\n        if (cur instanceof SoupTag) {\n          var tag = strainer.match(cur);\n\n          if (tag) {\n            results.push(tag);\n          }\n        }\n\n        cur = cur.previousSibling;\n      }\n\n      return results;\n    }\n  }, {\n    key: \"findNextSibling\",\n    value: function findNextSibling() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      var attrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      var string = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      var results = this.findNextSiblings(name, attrs, string);\n\n      if (results.length > 0) {\n        return results[0];\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"findNextSiblings\",\n    value: function findNextSiblings() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      var attrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      var string = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      var results = [];\n      var cur = this.nextSibling;\n      var strainer = new SoupStrainer(name, attrs, string);\n\n      while (cur) {\n        if (cur instanceof SoupTag) {\n          var tag = strainer.match(cur);\n\n          if (tag) {\n            results.push(tag);\n          }\n        }\n\n        cur = cur.nextSibling;\n      }\n\n      return results;\n    }\n  }, {\n    key: \"getText\",\n    value: function getText() {\n      var separator = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var text = [];\n      var descendants = this.descendants;\n\n      for (var i = 0; i < descendants.length; ++i) {\n        if (descendants[i] instanceof SoupString) {\n          text.push(descendants[i]._text);\n        }\n      }\n\n      return text.join(separator);\n    }\n  }, {\n    key: \"text\",\n    get: function get() {\n      return this.getText();\n    }\n  }, {\n    key: \"descendants\",\n    get: function get() {\n      var ret = [];\n      var cur = this.nextElement;\n\n      while (cur) {\n        var parent = cur.parent;\n\n        while (parent && parent != this) {\n          parent = parent.parent;\n        }\n\n        if (!parent) break;\n        ret.push(cur);\n        cur = cur.nextElement;\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"_convertAttrsToString\",\n    value: function _convertAttrsToString() {\n      var text = '';\n      if (!this.attrs) return text;\n\n      for (var key in this.attrs) {\n        if (Array.isArray(this.attrs[key])) {\n          text += key + '=\"' + this.attrs[key].join(' ') + '\" ';\n        } else {\n          text += key + '=\"' + this.attrs[key] + '\" ';\n        }\n      }\n\n      text = text.trim();\n      return text;\n    }\n  }, {\n    key: \"_prettify\",\n    value: function _prettify(indent, breakline) {\n      var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var text = '';\n\n      if (this.hidden && level == 0) {\n        --level;\n      }\n\n      if (!this.hidden) {\n        var attrs = this._convertAttrsToString();\n\n        if (attrs) {\n          text += indent.repeat(level) + '<' + this.name + ' ' + attrs;\n        } else {\n          text += indent.repeat(level) + '<' + this.name;\n        }\n      } // is an element doesn't have any contents, it's a self closing element\n\n\n      if (!this.hidden) {\n        if (this._isEmptyElement() && this.builder.canBeEmptyElement(this.name)) {\n          text += ' />' + breakline;\n          return text;\n        } else {\n          text += '>' + breakline;\n        }\n      }\n\n      for (var i = 0; i < this.contents.length; ++i) {\n        if (this.contents[i] instanceof SoupString) {\n          var curText = this.contents[i].toString();\n          curText = curText.trim();\n\n          if (curText.length != 0) {\n            if (curText.substring(curText.length - 1) == \"\\n\") {\n              text += indent.repeat(level + 1) + curText;\n            } else {\n              text += indent.repeat(level + 1) + curText + breakline;\n            }\n          }\n        } else {\n          if (this.contents[i] instanceof SoupComment) {\n            text += indent.repeat(level + 1) + \"<!--\" + this.contents[i]._text + \"-->\" + breakline;\n          } else {\n            text += this.contents[i]._prettify(indent, breakline, level + 1);\n          }\n        }\n      }\n\n      if (!this.hidden) {\n        text += indent.repeat(level) + '</' + this.name + '>' + breakline;\n      }\n\n      return text;\n    }\n  }, {\n    key: \"prettify\",\n    value: function prettify() {\n      var indent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ' ';\n      var breakline = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '\\n';\n      return this._prettify(indent, breakline).trim();\n    }\n    /*\n     * Append item in contents\n     */\n\n  }, {\n    key: \"append\",\n    value: function append(item) {\n      var pre = this;\n      var next = this.nextElement;\n      var appendFirst = item;\n      var appendLast = item;\n      var itemDescendants = item.descendants;\n\n      if (itemDescendants && itemDescendants.length > 0) {\n        appendLast = itemDescendants[itemDescendants.length - 1];\n      }\n\n      var descendants = this.descendants;\n\n      if (descendants && descendants.length > 0) {\n        pre = descendants[descendants.length - 1];\n        next = pre.nextElement;\n      } //merge two SoupString\n\n\n      if (item instanceof SoupString && pre instanceof SoupString) {\n        pre._text += item._text;\n        return;\n      }\n\n      appendFirst.previousElement = pre;\n      appendLast.nextElement = next;\n      if (pre) pre.nextElement = appendFirst;\n      if (next) next.previousElement = appendLast;\n      this.contents.push(item);\n      item.parent = this;\n    }\n  }, {\n    key: \"_isEmptyElement\",\n    value: function _isEmptyElement() {\n      return this.contents.length == 0;\n    }\n  }]);\n\n  return SoupTag;\n}(SoupElement);\n\nSoupTag.prototype.toString = function () {\n  return this.prettify('', '');\n};\n\nvar ROOT_TAG_NAME = '[document]';\n\nvar JSSoup = /*#__PURE__*/function (_SoupTag) {\n  _inherits(JSSoup, _SoupTag);\n\n  var _super5 = _createSuper(JSSoup);\n\n  function JSSoup(text) {\n    var _this6;\n\n    var ignoreWhitespace = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    _classCallCheck(this, JSSoup);\n\n    _this6 = _super5.call(this, ROOT_TAG_NAME, new _builder[\"default\"](), null);\n    var handler = new htmlparser.DefaultHandler(function (error, dom) {\n      if (error) {\n        console.log(error);\n      } else {}\n    }, {\n      verbose: false,\n      ignoreWhitespace: ignoreWhitespace\n    });\n    var parser = new htmlparser.Parser(handler);\n    parser.parseComplete(text);\n\n    if (Array.isArray(handler.dom)) {\n      _this6._build(handler.dom);\n    } else {\n      _this6._build([handler.dom]);\n    }\n\n    _this6.hidden = true;\n    return _this6;\n  }\n\n  return JSSoup;\n}(SoupTag);\n\nexports[\"default\"] = JSSoup;\n\nvar SoupStrainer = /*#__PURE__*/function () {\n  function SoupStrainer(name, attrs, string) {\n    _classCallCheck(this, SoupStrainer);\n\n    if (typeof attrs == 'string') {\n      attrs = {\n        \"class\": [attrs]\n      };\n    } else if (Array.isArray(attrs)) {\n      attrs = {\n        \"class\": attrs\n      };\n    } else if (attrs && attrs[\"class\"] && typeof attrs[\"class\"] == 'string') {\n      attrs[\"class\"] = [attrs[\"class\"]];\n    }\n\n    if (attrs && attrs[\"class\"]) {\n      for (var i = 0; i < attrs[\"class\"].length; ++i) {\n        attrs[\"class\"][i] = attrs[\"class\"][i].trim();\n      }\n    }\n\n    this.name = name;\n    this.attrs = attrs;\n    this.string = string;\n  }\n\n  _createClass(SoupStrainer, [{\n    key: \"match\",\n    value: function match(tag) {\n      // match string\n      if (this.name == undefined && this.attrs == undefined) {\n        if (this.string) {\n          if (this._matchName(tag.string, this.string)) return tag.string;else return null;\n        }\n\n        return tag;\n      } // match tag name\n\n\n      var match = this._matchName(tag.name, this.name);\n\n      if (!match) return null; // match string\n\n      match = this._matchName(tag.string, this.string);\n      if (!match) return null; // match attributes\n\n      if (_typeof(this.attrs) == 'object') {\n        if (!this._isEmptyObject(this.attrs)) {\n          var props = Object.getOwnPropertyNames(this.attrs);\n          var found = false;\n\n          for (var i = 0; i < props.length; ++i) {\n            if (props[i] in tag.attrs && this._matchAttrs(props[i], tag.attrs[props[i]], this.attrs[props[i]])) {\n              found = true;\n              break;\n            }\n          }\n\n          if (!found) return null;\n        }\n      }\n\n      return tag;\n    }\n  }, {\n    key: \"_matchName\",\n    value: function _matchName(tagItem, name) {\n      if (name == undefined || name == null) return true; // if name is an array, then tag match any item in this array is a match.\n\n      if (Array.isArray(name)) {\n        for (var i = 0; i < name.length; ++i) {\n          var match = this._matchName(tagItem, name[i]);\n\n          if (match) return true;\n        }\n\n        return false;\n      }\n\n      return tagItem == name;\n    }\n  }, {\n    key: \"_matchAttrs\",\n    value: function _matchAttrs(name, candidateAttrs, attrs) {\n      if (typeof candidateAttrs == 'string') {\n        if (name == 'class') {\n          candidateAttrs = candidateAttrs.replace(/\\s\\s+/g, ' ').trim().split(' ');\n        } else {\n          candidateAttrs = [candidateAttrs];\n        }\n      }\n\n      if (typeof attrs == 'string') {\n        attrs = [attrs];\n      }\n\n      for (var i = 0; i < attrs.length; ++i) {\n        if (candidateAttrs.indexOf(attrs[i]) < 0) return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_isEmptyObject\",\n    value: function _isEmptyObject(obj) {\n      return Object.keys(obj).length == 0;\n    }\n  }]);\n\n  return SoupStrainer;\n}();"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}