{"ast":null,"code":"import React, { useEffect } from \"react\";\nimport JSSoup from 'jssoup';\nimport axios from 'axios';\nconst Scrapper = async () => {\n  //   ////////// AMAZON ///////////\n  let url = \"https://www.amazon.in/Dell-Inspiron-i5-1235U-39-62Cms-D560871WIN9B/dp/B0BH4SCYQ3/ref=sr_1_1_sspa?crid=DZP3SM2XBITL&keywords=dell+i5&qid=1673438956&sprefix=dell+i5%2Caps%2C311&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&psc=1\";\n  let HEADERS = {\n    'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.157 Safari/537.36',\n    'Accept-Language': 'en-US, en;q=0.5'\n  };\n  let response = await axios(url, {\n    method: 'GET',\n    headers: HEADERS\n  });\n  let text = await response.text();\n  //   console.log(text);\n\n  let soup = new JSSoup(text);\n  let amazon_img = soup.find('div', {\n    'id': 'imageBlock'\n  }).find('span', {\n    'class': 'a-button-text'\n  }).find('img').attrs['src'];\n\n  // retrieving product title\n  try {\n    // Outer Tag Object\n    let title = soup.find('span', {\n      'id': 'productTitle'\n    });\n\n    // Inner Navigable String Object\n    let title_value = title.nextElement._text;\n\n    // Title as a string value\n    let title_string = title_value.trim().replace(',', '');\n    console.log(\"product Title = \", title_string);\n  } catch (AttributeError) {\n    let title_string = \"NA\";\n  }\n\n  // retrieving price\n  let price = \"NA\";\n  try {\n    let price_symbol = soup.find(\"span\", {\n      'class': 'a-price-symbol'\n    }).nextElement._text.trim().replace(',', '');\n    price = soup.find(\"span\", {\n      'class': 'a-price-whole'\n    }).nextElement._text.trim().replace(',', '');\n    price = price_symbol + price;\n    // we are omitting unnecessary spaces\n    // and commas form our string\n    console.log(\"Products price = \", price);\n  } catch (AttributeError) {\n    price = \"NA\";\n  }\n\n  // retrieving product rating\n  let rating = \"NA\";\n  try {\n    rating = soup.find(\"i\", {\n      'class': 'a-icon a-icon-star a-star-4-5'\n    }).nextElement._text.trim().replace(',', '');\n    console.log(\"Overall rating = \", rating);\n  } catch (AttributeError) {\n    try {\n      rating = soup.find(\"span\", {\n        'class': 'a-icon-alt'\n      }).nextElement._text.trim().replace(',', '');\n      console.log(\"Overall rating = \", rating);\n    } catch {\n      rating = \"NA\";\n    }\n  }\n  try {\n    let review_count = soup.find(\"span\", {\n      'id': 'acrCustomerReviewText'\n    }).nextElement._text.trim().replace(',', '');\n    console.log(\"Total reviews = \", review_count);\n  } catch (AttributeError) {\n    let review_count = \"NA\";\n  }\n  console.log(\"Flipkart price = \", price);\n  console.log(\"Flipkart rating = \", rating);\n  // console.log(\"Flipkart link = \", flip_link);\n  return [price, rating];\n};\n_c = Scrapper;\nexport default Scrapper;\nvar _c;\n$RefreshReg$(_c, \"Scrapper\");","map":{"version":3,"names":["React","useEffect","JSSoup","axios","Scrapper","url","HEADERS","response","method","headers","text","soup","amazon_img","find","attrs","title","title_value","nextElement","_text","title_string","trim","replace","console","log","AttributeError","price","price_symbol","rating","review_count","_c","$RefreshReg$"],"sources":["C:/Users/05200/Documents/React/price-compare-extension/src/Component/scrapper.js"],"sourcesContent":["import React,{useEffect} from \"react\";\r\nimport JSSoup from 'jssoup';\r\nimport axios from 'axios';\r\n\r\nconst Scrapper = async () => {\r\n//   ////////// AMAZON ///////////\r\n  let url = \"https://www.amazon.in/Dell-Inspiron-i5-1235U-39-62Cms-D560871WIN9B/dp/B0BH4SCYQ3/ref=sr_1_1_sspa?crid=DZP3SM2XBITL&keywords=dell+i5&qid=1673438956&sprefix=dell+i5%2Caps%2C311&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&psc=1\"\r\n\r\n  let HEADERS = { 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.157 Safari/537.36', 'Accept-Language': 'en-US, en;q=0.5' }\r\n\r\n  let response = await axios(url, { method: 'GET', headers: HEADERS });\r\n  let text = await response.text();\r\n//   console.log(text);\r\n\r\n  let soup = new JSSoup(text);\r\n  let amazon_img = soup.find('div', {'id': 'imageBlock'}).find('span', {'class': 'a-button-text' }).find('img').attrs['src']\r\n\r\n  // retrieving product title\r\n  try {\r\n    // Outer Tag Object\r\n    let title = soup.find('span', { 'id': 'productTitle' })\r\n\r\n    // Inner Navigable String Object\r\n    let title_value = title.nextElement._text\r\n\r\n    // Title as a string value\r\n    let title_string = title_value.trim().replace(',', '')\r\n    console.log(\"product Title = \", title_string)\r\n  }\r\n  catch (AttributeError) {\r\n    let title_string = \"NA\"\r\n  }\r\n\r\n  // retrieving price\r\n  let price = \"NA\"\r\n  try {\r\n    let price_symbol = soup.find(\"span\", { 'class': 'a-price-symbol' }).nextElement._text.trim().replace(',', '')\r\n    price = soup.find(\"span\", { 'class': 'a-price-whole' }).nextElement._text.trim().replace(',', '')\r\n    price = price_symbol + price\r\n    // we are omitting unnecessary spaces\r\n    // and commas form our string\r\n    console.log(\"Products price = \", price)\r\n  }\r\n  catch (AttributeError) {\r\n    price = \"NA\"\r\n  }\r\n\r\n  // retrieving product rating\r\n  let rating = \"NA\"\r\n  try {\r\n    rating = soup.find(\"i\", { 'class': 'a-icon a-icon-star a-star-4-5' }).nextElement._text.trim().replace(',', '')\r\n    console.log(\"Overall rating = \", rating)\r\n  }\r\n\r\n  catch (AttributeError) {\r\n    try {\r\n      rating = soup.find(\"span\", { 'class': 'a-icon-alt' }).nextElement._text.trim().replace(',', '')\r\n      console.log(\"Overall rating = \", rating)\r\n    }\r\n    catch {\r\n      rating = \"NA\"\r\n    }\r\n  }\r\n\r\n  try {\r\n    let review_count = soup.find(\"span\",  { 'id': 'acrCustomerReviewText' }).nextElement._text.trim().replace(',', '')\r\n    console.log(\"Total reviews = \", review_count)\r\n  }\r\n  catch (AttributeError) {\r\n    let review_count = \"NA\"\r\n  }\r\n\r\n    console.log(\"Flipkart price = \", price);\r\n    console.log(\"Flipkart rating = \", rating);\r\n    // console.log(\"Flipkart link = \", flip_link);\r\n    return [price, rating];\r\n}\r\n\r\nexport default Scrapper;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}